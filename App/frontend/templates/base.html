<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Filmritic - Metacritic Clone{% endblock %}</title>
  <link rel="icon" href="/static/img/logonew.png" type="image/x-icon" />
  <link rel="stylesheet" href="/static/css/base.css">
  <link rel="stylesheet" href="/static/css/home.css">
  <link rel="stylesheet" href="/static/css/detail.css">
  <link rel="stylesheet" href="/static/css/login_register.css">
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <div class="logo" id="home-logo">
            <a href="/home" class="logo-link">
              <img src="/static/img/logonew.png" class="logo-img" alt="logonew">
              <h4 style="color: white;">Filmritic</h4>
            </a>
          </div>
          <nav>
            <div class="dropdown-trigger">
              <a href="/category" id="category-link">Category</a>
              <div class="dropdown-box">
                <ul>
                  <li>Action</li>
                  <li>Adventure</li>
                  <li>Drama</li>
                  <li>Comedy</li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
        <div class="search-user">
          <div class="search-wrapper">
            <input type="text" placeholder="Search" />
            <button type="submit">
              <img src="/static/img/kinhlup.png" alt="Search">
            </button>
          </div>

          <!-- Chưa đăng nhập - nút Register -->
          <a href="#" class="register-link demo-btn" id="registerButton">Register</a>

          <!-- Đã đăng nhập - user icon (ẩn mặc định) -->
          <a href="/profile" class="user-icon" id="userIcon">
            <img src="/static/img/user.png" alt="user">
          </a>
        </div>
      </div>
    </header>

    {% block content %}{% endblock %}

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
      <div class="auth-container">
        <!-- Close button -->
        <button class="close-btn" id="closeBtn">&times;</button>

        <!-- Logo section -->
        <div class="logo-section">
          <img src="/static/img/logonew.png" class="logo-img" alt="logonew">
          <h4>Filmritic</h4>
        </div>

        <!-- Tab navigation -->
        <div class="tab-navigation">
          <button class="tab-btn" id="registerTab" onclick="openRegisterModal()">Register</button>
          <button class="demo-btn login-link tab-btn active" id="loginTab" onclick="openLoginModal()">Sign In</button>
        </div>

        <!-- Form container -->
        <div class="form-container">
          <!-- Register Form -->
          <form class="auth-form" id="registerForm">
            <div class="welcome-text">
              Get started with a free Filmritic account to rate, review, and discover top movies
            </div>

            <div class="message" id="registerMessage"></div>

            <div class="form-group">
              <label class="form-label" for="registerEmail">Email</label>
              <input type="email" class="form-input" id="registerEmail" required>
            </div>

            <div class="form-group">
              <label class="form-label" for="registerUsername">Username</label>
              <input type="text" class="form-input" id="registerUsername" required>
              <div class="form-hint">15 characters max, letters and numbers only</div>
            </div>

            <div class="form-group">
              <label class="form-label" for="registerPassword">Password</label>
              <input type="password" class="form-input" id="registerPassword" required>
              <div class="form-hint">Must be at least 6 characters with 1 number and special character</div>
            </div>

            <button type="submit" class="submit-btn">Register</button>

            <div class="terms-text">
              By joining Metacritic, you agree to Metacritic's <a href="#">Terms of Use</a> and <a href="#">Privacy
                Policy</a>.
            </div>
          </form>

          <!-- Login Form -->
          <form class="auth-form active" id="loginForm">
            <div class="welcome-text">
              Welcome back!
            </div>

            <div class="message" id="loginMessage"></div>

            <div class="form-group">
              <label class="form-label" for="loginEmail">Email</label>
              <input type="email" class="form-input" id="loginEmail" required>
            </div>

            <div class="form-group">
              <label class="form-label" for="loginPassword">Password</label>
              <input type="password" class="form-input" id="loginPassword" required>
            </div>

            <button type="submit" class="submit-btn">Sign In</button>

            <div class="forgot-password">
              <a href="#">Forgot Password?</a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-bar"></div>
      <div class="logo logo-footer"><img src="/static/img/logonew.png" alt="logonew">Filmritic</div>
      <div class="footer-content">
        <div class="footer-box">
          <h4 class="green">Data Science</h4>
          <img src="/static/img/logodev.png" alt="">
          <p>Đinh Tiến Thành</p>
        </div>
        <div class="footer-box">
          <h4 class="yellow">Web Dev</h4>
          <img src="/static/img/logodev.png" alt="">
          <p>Vương Văn Đạo</p>
        </div>
        <div class="footer-box">
          <h4 class="red">Data Engineer</h4>
          <img src="/static/img/logodev.png" alt="">
          <p>Nguyễn Văn Tiến</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- Scripts -->

  <script type="module" src="/static/js/api/config.js"></script>
  <script src="/static/js/core/router.js"></script>
  <script type="module" src="/static/js/api/apiService.js"></script>
  <script src="/static/js/utils/pageCacheManager.js"></script>
  <script src="/static/js/auth/cookie-session-manager.js"></script>
  <script type="module" src="/static/js/auth/session_auth.js"></script>
  <script type="module" src="/static/js/auth/modal_auth.js"></script>
  <script type="module"src="/static/js/auth/login_register.js"></script>
  <script type="module" src="/static/js/page/homePage.js"></script>
  <script src="/static/js/auth/check_login.js"></script>
  {% if request.url.path == "/movies" %}
  <script type="module" src="/static/js/page/detailPage.js"></script>
  {% endif %}
  <script type="module"src="/static/js/utils/createHome.js"></script>
  <script type="module" src="/static/js/utils/getUrl.js"></script>

</body>

</html>
